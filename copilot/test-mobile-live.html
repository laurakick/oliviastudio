<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mobile ç¾å­¸ææ¡ˆ Images Test - Live Server</title>
    <link rel="stylesheet" href="../style.css">
    <style>
        /* Test panel styles */
        .test-panel {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: rgba(0, 0, 0, 0.9);
            color: white;
            padding: 10px;
            z-index: 9999;
            font-size: 12px;
            border-bottom: 3px solid #C58E71;
        }
        
        .test-controls {
            display: flex;
            gap: 10px;
            align-items: center;
            flex-wrap: wrap;
        }
        
        .test-button {
            background: #C58E71;
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 3px;
            cursor: pointer;
            font-size: 11px;
        }
        
        .test-button:hover {
            background: #AD7960;
        }
        
        .status-indicator {
            padding: 3px 8px;
            border-radius: 3px;
            font-weight: bold;
        }
        
        .status-ok { background: green; }
        .status-warning { background: orange; }
        .status-error { background: red; }
        
        /* Add margin to avoid overlap with fixed panel */
        body {
            margin-top: 80px !important;
        }
        
        /* Viewport size indicator */
        .viewport-info {
            position: fixed;
            bottom: 10px;
            right: 10px;
            background: rgba(47, 79, 79, 0.9);
            color: white;
            padding: 8px 12px;
            border-radius: 5px;
            font-size: 12px;
            z-index: 9998;
        }
        
        /* Image debug overlay */
        .proposal-image-debug {
            position: relative;
        }
        
        .proposal-image-debug::after {
            content: attr(data-image-status);
            position: absolute;
            top: 5px;
            left: 5px;
            background: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 2px 6px;
            border-radius: 3px;
            font-size: 10px;
            pointer-events: none;
        }
        
        /* Mobile specific tests */
        @media (max-width: 767px) {
            .mobile-only-indicator {
                display: block !important;
                background: lime;
                color: black;
                text-align: center;
                padding: 5px;
                font-weight: bold;
            }
        }
        
        .mobile-only-indicator {
            display: none;
        }
    </style>
</head>
<body>
    <!-- Test Control Panel -->
    <div class="test-panel">
        <div class="test-controls">
            <strong>Live Server Port 5500 - Mobile Test:</strong>
            <button class="test-button" onclick="testMobile()">ğŸ“± Mobile (375px)</button>
            <button class="test-button" onclick="testTablet()">ğŸ“± Tablet (768px)</button>
            <button class="test-button" onclick="testDesktop()">ğŸ–¥ï¸ Desktop (1200px)</button>
            <button class="test-button" onclick="checkImages()">ğŸ” Check Images</button>
            <span id="image-status" class="status-indicator">Checking...</span>
            <span id="viewport-status" class="status-indicator">Screen: <span id="current-width"></span>px</span>
        </div>
    </div>

    <!-- Mobile indicator -->
    <div class="mobile-only-indicator">
        ğŸ“± MOBILE MODE ACTIVE - Proposal images should be visible!
    </div>

    <!-- Viewport size indicator -->
    <div class="viewport-info">
        Viewport: <span id="viewport-width"></span> Ã— <span id="viewport-height"></span>
    </div>

    <section id="proposals" class="proposals-section fade-in-section">
        <div class="container">
            <h2 class="section-heading">ç¾å­¸ææ¡ˆ - Mobile Test (Port 5500)</h2>
            
            <!-- Proposal 1: èŠ±è—è¨­è¨ˆæœå‹™ -->
            <div class="proposal-item">
                <div 
                    class="proposal-image proposal-image-debug"                    style="background-image: url('../image/S__14352440.jpg');"
                    data-image-path="../image/S__14352440.jpg"
                    data-image-status="Loading...">
                </div>
                <div class="proposal-content">
                    <h3 class="proposal-title">
                        èŠ±è—è¨­è¨ˆæœå‹™<br /><span class="en-subtitle">Floral Design Services</span>
                    </h3>
                    <p class="proposal-text">
                        æä¾›å°ˆæ¥­çš„èŠ±è—è¨­è¨ˆæœå‹™ï¼Œç‚ºæ‚¨çš„ç‰¹æ®Šå ´åˆå‰µé€ ç¨ç‰¹çš„èŠ±å‰è£é£¾ã€‚<br />
                        å¾æ¦‚å¿µç™¼æƒ³åˆ°å¯¦éš›è£½ä½œï¼Œæˆ‘å€‘ç”¨å¿ƒç‚ºæ¯ä¸€å€‹å§”è¨—æ¡ˆæ‰“é€ å°ˆå±¬çš„ç¾å­¸é«”é©—ã€‚
                    </p>
                    <a href="services.html" class="proposal-btn">äº†è§£æ›´å¤š</a>
                </div>
            </div>

            <!-- Proposal 2: èª²ç¨‹èŠ±çµ® -->
            <div class="proposal-item reverse">
                <div 
                    class="proposal-image proposal-image-debug"                    style="background-image: url('../image/Olivia_Teacher.png');"
                    data-image-path="../image/Olivia_Teacher.png"
                    data-image-status="Loading...">
                </div>
                <div class="proposal-content">
                    <h3 class="proposal-title">
                        èª²ç¨‹èŠ±çµ®<br /><span class="en-subtitle">Class Gallery</span>
                    </h3>
                    <p class="proposal-text">
                        è¨˜éŒ„å­¸å“¡å€‘åœ¨èª²å ‚ä¸­çš„ç²¾å½©æ™‚åˆ»èˆ‡ç¾éº—ä½œå“ã€‚<br />
                        æ¯ä¸€å¼µç…§ç‰‡éƒ½è¨´èªªè‘—èŠ±è—å­¸ç¿’çš„å¿«æ¨‚èˆ‡æˆé•·ï¼Œè¦‹è­‰æ¯å€‹äººèˆ‡èŠ±çš„ç¾å¥½ç›¸é‡ã€‚
                    </p>
                    <a href="gallery.html" class="proposal-btn">é€²å…¥</a>
                </div>
            </div>

            <!-- Proposal 3: ä½œå“é›† -->
            <div class="proposal-item">
                <div 
                    class="proposal-image proposal-image-debug"                    style="background-image: url('../image/Hero.png');"
                    data-image-path="../image/Hero.png"
                    data-image-status="Loading...">
                </div>
                <div class="proposal-content">
                    <h3 class="proposal-title">
                        ç²¾é¸ä½œå“é›†<br /><span class="en-subtitle">Portfolio</span>
                    </h3>
                    <p class="proposal-text">
                        æ¬£è³æˆ‘å€‘çš„ç²¾ç¾èŠ±è—å‰µä½œä½œå“ï¼Œæ¯ä¸€ä»¶ä½œå“éƒ½æ‰¿è¼‰è‘—ç¨ç‰¹çš„è¨­è¨ˆç†å¿µã€‚<br />
                        å¾æ—¥å¸¸æ“ºè¨­åˆ°ç‰¹æ®Šå ´åˆè£é£¾ï¼Œå±•ç¾èŠ±è—çš„å¤šæ¨£é­…åŠ›èˆ‡ç„¡é™å¯èƒ½ã€‚
                    </p>
                    <a href="portfolio.html" class="proposal-btn">æ¢ç´¢æ›´å¤š</a>
                </div>
            </div>
        </div>
    </section>

    <script>
        // Update viewport info
        function updateViewportInfo() {
            const width = window.innerWidth;
            const height = window.innerHeight;
            document.getElementById('viewport-width').textContent = width;
            document.getElementById('viewport-height').textContent = height;
            document.getElementById('current-width').textContent = width;
            
            // Update viewport status
            const statusEl = document.getElementById('viewport-status');
            if (width <= 767) {
                statusEl.className = 'status-indicator status-ok';
                statusEl.innerHTML = `ğŸ“± Mobile: ${width}px`;
            } else if (width <= 1023) {
                statusEl.className = 'status-indicator status-warning';
                statusEl.innerHTML = `ğŸ“± Tablet: ${width}px`;
            } else {
                statusEl.className = 'status-indicator';
                statusEl.innerHTML = `ğŸ–¥ï¸ Desktop: ${width}px`;
            }
        }

        // Test different viewport sizes
        function testMobile() {
            // This is for manual testing - user should resize browser or use dev tools
            alert('è¯·å°†æµè§ˆå™¨çª—å£è°ƒæ•´åˆ°375pxå®½åº¦ï¼Œæˆ–ä½¿ç”¨å¼€å‘è€…å·¥å…·åˆ‡æ¢åˆ°æ‰‹æœºè§†å›¾');
        }

        function testTablet() {
            alert('è¯·å°†æµè§ˆå™¨çª—å£è°ƒæ•´åˆ°768pxå®½åº¦ï¼Œæˆ–ä½¿ç”¨å¼€å‘è€…å·¥å…·åˆ‡æ¢åˆ°å¹³æ¿è§†å›¾');
        }

        function testDesktop() {
            alert('è¯·å°†æµè§ˆå™¨çª—å£è°ƒæ•´åˆ°1200pxå®½åº¦ï¼Œæˆ–ä½¿ç”¨å¼€å‘è€…å·¥å…·åˆ‡æ¢åˆ°æ¡Œé¢è§†å›¾');
        }

        // Check image loading status
        function checkImages() {
            const images = document.querySelectorAll('.proposal-image-debug');
            let loadedCount = 0;
            let totalCount = images.length;

            images.forEach((imgEl, index) => {
                const imagePath = imgEl.getAttribute('data-image-path');
                const bgImage = window.getComputedStyle(imgEl).backgroundImage;
                
                if (bgImage && bgImage !== 'none') {
                    // Extract URL from background-image
                    const imageUrl = bgImage.slice(5, -2).replace(/"/g, '');
                    
                    // Test if image loads
                    const testImg = new Image();
                    testImg.onload = function() {
                        imgEl.setAttribute('data-image-status', 'âœ… OK');
                        loadedCount++;
                        updateImageStatus(loadedCount, totalCount);
                        console.log(`âœ… Image ${index + 1} loaded: ${imagePath}`);
                    };
                    testImg.onerror = function() {
                        imgEl.setAttribute('data-image-status', 'âŒ ERROR');
                        updateImageStatus(loadedCount, totalCount);
                        console.log(`âŒ Image ${index + 1} failed: ${imagePath}`);
                    };
                    testImg.src = imageUrl;
                } else {
                    imgEl.setAttribute('data-image-status', 'âŒ NO BG');
                    console.log(`âŒ No background image found for: ${imagePath}`);
                }
            });
        }

        function updateImageStatus(loaded, total) {
            const statusEl = document.getElementById('image-status');
            if (loaded === total) {
                statusEl.className = 'status-indicator status-ok';
                statusEl.textContent = `âœ… All ${total} images OK`;
            } else {
                statusEl.className = 'status-indicator status-warning';
                statusEl.textContent = `ğŸ”„ ${loaded}/${total} loaded`;
            }
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            updateViewportInfo();
            setTimeout(checkImages, 1000); // Check images after 1 second
        });

        // Update on resize
        window.addEventListener('resize', updateViewportInfo);

        // Log CSS media query status
        function logMediaQueryStatus() {
            const isMobile = window.matchMedia('(max-width: 767px)').matches;
            const isTablet = window.matchMedia('(max-width: 1023px)').matches;
            
            console.log('ğŸ“Š Media Query Status:');
            console.log(`  Mobile (â‰¤767px): ${isMobile}`);
            console.log(`  Tablet (â‰¤1023px): ${isTablet}`);
            console.log(`  Current width: ${window.innerWidth}px`);
        }

        // Log media queries on load and resize
        document.addEventListener('DOMContentLoaded', logMediaQueryStatus);
        window.addEventListener('resize', logMediaQueryStatus);
    </script>
</body>
</html>
